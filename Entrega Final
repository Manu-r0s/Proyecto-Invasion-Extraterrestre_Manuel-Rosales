#include <iostream>
#include <stdlib.h>
#include <iomanip>
#include <fstream>
#include <cstdlib>
#include <ctime>
#include <string>

using namespace std;

struct planeta{
    string ambiente; 
    int oxigeno;
    planeta *prxpl;
    };
    struct planeta *ap=NULL,*bp=NULL,*ep=NULL;

struct alien{
    string especie;
    int salud;
    int energia;
    string ambiente;
    int oxigeno;
    alien *prxl;
    };
    struct alien *al=NULL,*bl=NULL,*el=NULL;

struct acceso{
    string nacceso;
    int salper;//ataque
    int energas;
    int impred;//defensa
    int salrest;//supervivencia
    int enerest;
    int oxigeno; //adaptacion
    struct acceso *prxacc;
    };
    struct acceso *ac=NULL,*bc=NULL, *ec=NULL;

struct solds{
    string alumno;
    string especie;
    int salud;
    int energia;
    string ambiente;
    struct acceso mochila[5];
    struct solds *prxsol;
    };
    struct solds *as=NULL,*bs=NULL,*es=NULL;

//(Ambiente)
void agg_amb(string amb, int ox){ //Procedimiento para Insertar Ambientes
    if(ap==NULL){
        ap=new planeta;
        ap->ambiente=amb;
        ap->oxigeno=ox;
        bp=ap;
        ep=ap;}
    else{
        ap=new planeta;
        ap->ambiente=amb;
        ap->oxigeno=ox;
        ep->prxpl=ap;
        ep=ep->prxpl;}
    ep->prxpl=NULL;
}

void mos_amb(){
    struct planeta *cp=NULL;
    cout<<".-.-.-.LISTA DE AMBIENTES.-.-.-."<<endl;
    cp=bp;
    while(cp!=NULL){
        cout<<"Planeta: "<<setw(15)<<left<<cp->ambiente<<setw(5)<<left<<"NOX: "<<cp->oxigeno<<endl;
        cp=cp->prxpl;
    }
}

int busc_amb(string amb){ 
    ap=bp;
    while(ap!=NULL){
        if(ap->ambiente!=amb){
            ap=ap->prxpl;}
        else{
            return 1;}
    }
    return 0;
}

int valid_amb(string amb){
  for (int i = 0; i < 20; i++) {
    if (amb[i]<'A'||amb[i]>'Z') {
        return 1;}
  }
  return 0;
}

void elim_amb(string amb){
    if(busc_amb(amb)==1){
        struct planeta *zp=NULL,*xp=NULL; 
        zp=bp;
        while(zp!=NULL && zp->ambiente!=amb){
            xp=zp;
            zp=zp->prxpl;}
            if(zp==bp){
                bp=bp->prxpl;}
            else{
                xp->prxpl=zp->prxpl;
             delete(zp);
             cout<<"¡Su ambiente ha sido eliminado con éxito!"<<endl;}
        }        

    else{
        cout<<"¡No puedes eliminar un ambiente que no existe!"<<endl;}
}
void crea_amb(){
    int wamb2=0,wamb1=0;
    int ox;
    string amb;
    while(wamb2<1){
        cout<<"Ingresa el nombre de tu ambiente"<<endl;
        cout<<"Tip: Escribe en MAYÚSCULAS"<<endl;
        cin>>amb;
        if(valid_amb(amb)==1){
            while(wamb1<1){
                cout<<"Ingresa el nivel de oxígeno:"<<endl;
                cout<<"Tip: Valores válidos del (70-100)"<<endl;
                cin>>ox;
                if(ox>=70 && ox<=100){
                    agg_amb(amb,ox);
                    cout<<"¡Su ambiente ha sido guardado con éxito!"<<endl;
                    wamb1=1;
                    wamb2=1;}
                else{
                    cout<<"¡Los valores válidos para el oxigeno son del 70-100!"<<endl;
                    cout<<"Intenta de nuevo..."<<endl;}}} 
        else{
            cout<<"Recuerda escribir el nombre de tu ambiente en MAYÚSCULAS"<<endl;
            cout<<"Intenta de nuevo..."<<endl;}
    }
}


void mod_amb(){
    string amb, ambx;
    int oxx;
    int wamo1=0, wamo2=0, wamo3=0;
    while(wamo3<1){
        mos_amb();
        cout<<"Indique el nombre del ambiente que desea modificar:"<<endl;
        cout<<"Tip: Recuerda ingresarlo en MAYÚSCULAS"<<endl;
        cin>>amb;
        if(busc_amb(amb)==1){
            while(wamo2<1){
                cout<<"Indique el nuevo nombre del planeta:"<<endl;
                cin>>ambx;
                if(valid_amb(amb)==1){
                    ap->ambiente=ambx;
                    while(wamo1<1){
                        cout<<"Indique el nuevo nivel de oxígeno de su ambiente:"<<endl;
                        cin>>oxx;
                        if(oxx>=70 && oxx<=100){
                            ap->oxigeno=oxx;
                            cout<<"¡Su ambiente se modificó con éxito!"<<endl;
                            wamo1=1;
                            wamo2=1;
                            wamo3=1;}
                        else{
                            cout<<"Los valores válidos para el oxígeno son del 70-100"<<endl;
                            cout<<"Intenta de nuevo..."<<endl;}
                    }
                }
                else{
                    cout<<"Tip: Recuerda escribirlo en MAYÚSCULAS"<<endl;
                    cout<<"Intenta de nuevo..."<<endl;}
            }
        }
    }      
}

int submenu_amb(){
    int submap;
    cout<<".-.-.OPCIONES DE AMBIENTES.-.-."<<endl;
    cout<<".-.-.-..-.-.-.-.-.-.-.-.-.-.-.-"<<endl;
    cout<<"1. Agregar un Ambiente-.-.-.-.-"<<endl;
    cout<<"2. Modificar un Ambiente-.-.-.-."<<endl;
    cout<<"3. Eliminar un Ambiente-.-.-.-."<<endl;
    cout<<"4. Consultar Ambientes-.-.-.-.-"<<endl;
    cout<<"5. Regresar-.-.-.-.-.-.-.-.-.-."<<endl;
    cout<<"-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-"<<endl;
    cin>>submap;
    return submap;

}

void default_amb(){
    string ambt;
    int oxt;
    int invambl=0,invambc=0; //Variables que sirven para manejar la lectura del archivo (límite y contador)
    string liamb, bgamb;

    ifstream invamb("amb.txt"); 
    getline(invamb,liamb);
    invambl=stoi(liamb);
    while(invambc!=invambl){
        getline(invamb,liamb);
        bgamb=liamb;             //Variable que sirve para "desechar" -- del archivo.inv
        getline(invamb,liamb);   
        ambt=liamb;              //Extracción de Ambiente
        getline(invamb,liamb);
        oxt=stoi(liamb);         //Extracción de Nivel de Oxígeno
        agg_amb(ambt,oxt);
        invambc=invambc+1;}
    invamb.close();
}

void mos_alien(){
    struct alien *cl;
    cout<<".-.-.-.-.-.-.-.-.-.-.-.-.-.LISTA DE ESPECIES-.-.-.-.-.-.-.-.-.-.-.-.-.-."<<endl;
    cl=bl;
    while(cl!=NULL){
        cout << "Raza: "<<setw(15)<<left<<cl->especie<<" "<<"HP: "<<setw(5)<<left<<cl->salud<<" "<<"SP: "<<setw(5)<<left<<cl->energia<<" "
        <<"Planeta: "<<setw(10)<<left<<cl->ambiente<<"   "<<"NOX: "<<setw(2)<<right<<cl->oxigeno<<" "<<endl;
        cl=cl->prxl;
    }
}
//(Alien)
void ins_alien(string amb, string esp, int hp, int sp, int ox){ //Procedimiento para Insertar Especies
    if(al==NULL){
        al=new alien;
        al->ambiente=amb;
        al->especie=esp;
        al->salud=hp;
        al->energia=sp;
        al->oxigeno=ox;
        bl=al;
        el=al;}
    else{
        al=new alien;
        al->ambiente=amb;
        al->especie=esp;
        al->salud=hp;
        al->energia=sp;
        al->oxigeno=ox;
        el->prxl=al;
        el=el->prxl;}
    el->prxl=NULL;
}    

void default_alien(){
    string ambt, espt;
    int hpt, spt, oxt;
    int invalil=0, invalic=0; //Variables que sirven para manejar la lectura del archivo (límite y contador)
    string liali,bgali;

    ifstream invali("ali.txt"); 
    getline(invali,liali);
    invalil=stoi(liali);
    while(invalic!=invalil){
        getline(invali,liali);  
        bgali=liali;             //Variable que sirve para "desechar" -- del archivo.inv
        getline(invali,liali);
        ambt=liali;              //Extracción de Ambiente 
        getline(invali,liali);
        espt=liali;              //Extracción de Especies
        getline(invali,liali);
        hpt=stoi(liali);         //Extracción de Salud
        getline(invali,liali);
        spt=stoi(liali);         //Extracción de Energía
        getline(invali,liali);
        oxt=stoi(liali);         //Extracción de Nivel de Oxígeno
        ins_alien(ambt,espt,hpt,spt,oxt);
        invalic=invalic+1;}
    invali.close();
}

int busc_alien(string esp){
    al=bl;
    while(al!=NULL){
        if(al->especie!=esp){
            al=al->prxl;}
        else{
            return 1;}
    }
    return 0;
}

int valid_hsp(int hp, int sp){
    if(hp>100 || sp>100){
        return 0;}
    else{
        return 1;}
}

void crea_alien(){
    int wal1=0,wal2=0;
    string amb, esp;
    int hp=0,sp=0,ox=0;    
    while(wal2<1){
        cout<<"Selecciona el planeta de tu nueva especie:"<<endl;
        cout<<"Tip: Recuerda escribir todo en MAYÚSCULAS"<<endl;
        mos_amb();
        cin>>amb;
        if(busc_amb(amb)==1){
            amb=ap->ambiente;
            ox=ap->oxigeno;
            cout<<"Dale nombre a la nueva raza espacial:"<<endl;
            cin>>esp;
            while(wal1<1){
                cout<<"Indica su salud: (1-100)"<<endl;
                cin>>hp;
                cout<<"Indica su energia: (1-100)"<<endl;
                cin>>sp;
                if(valid_hsp(hp,sp)==1){
                    ins_alien(amb,esp, hp,sp,ox);
                        cout<<"¡Su nueva especie fue registrada con éxito!"<<endl;
                            wal1=1;
                            wal2=1;}
                else{
                    cout<<"¡Uno o ambos valores ingresados, exceden el límite establecido!"<<endl;
                    cout<<"Intente de nuevo..."<<endl;}
            }
        }
            
        else{
            cout<<"¡El ambiente seleccionado no existe o está ingresado erróneamente!"<<endl;
            cout<<"Intente de nuevo..."<<endl;}
    }

}


void mod_alien(string esp){
    string espx, ambx;
    int hpx, spx, wal3=0, wal4=0;
    if(busc_alien(esp)==1){
        while(wal4<1){
            cout<<"Selecciona el nuevo planeta para tu especie:"<<endl;
            cout<<"Tip: Recuerda escribir todo en MAYÚSCULAS"<<endl;
            mos_amb();
            cin>>ambx;
            if(busc_amb(ambx)==1){
                al->ambiente=ap->ambiente;
                al->oxigeno=ap->oxigeno;
                cout<<"Indique el nuevo nombre de la especie:"<<endl;
                cin>>espx;
                al->especie=espx;
                while(wal3<1){
                cout<<"Indique la nueva cantidad de salud de la especie (1-100):"<<endl;
                cin>>hpx;
                cout<<"Indique la nueva cantidad de energía de la especie (1-100):"<<endl;
                cin>>spx;
                if(valid_hsp(hpx, spx)==1){
                    al->energia=spx;
                    al->salud=hpx;
                    cout<<"¡Su especie ha sido modificada con éxito!"<<endl;
                    wal3=1;
                    wal4=1;}
                else{
                    cout<<"¡El valor ingresado, excede el límite establecido!"<<endl;
                    cout<<"Intente de nuevo..."<<endl;}}
            }
            else{
                cout<<"¡La especie seleccionada no existe o está ingresada erróneamente!"<<endl;
                cout<<"Intente de nuevo..."<<endl;}
        }
    }
}
void elim_alien(string esp){
    if(busc_alien(esp)==1){
        struct alien *zl=NULL,*xl=NULL; 
        zl=bl;
        while (zl!=NULL && zl->especie!=esp){
            xl=zl;
            zl=zl->prxl;}
            if (zl==bl){
                bl=bl->prxl;}
            else{
                xl->prxl=zl->prxl;
             delete (zl);
             cout<<"¡Su especie ha sido eliminada con exito!"<<endl;}
        }         

    else{
        cout<<"¡No puedes eliminar una especie que no existe!"<<endl;}
}

int submenu_aliens(){
    int submal;
    cout<<".-.-.-.-.-OPCIONES DE ESPECIES.-.-.-.-.-.-"<<endl;
    cout<<".-.-.-..-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-."<<endl;
    cout<<"1. Agregar una Especie-..-.-.-.-.-.-.-.-.-"<<endl;
    cout<<"2. Modificar una Especie.-.-.-.-.-.-.-.-.-"<<endl;
    cout<<"3. Eliminar una Especie-.-.-.-.-.-.-.-.-.-"<<endl;
    cout<<"4. Mostrar Especies.-.-.-.-.-.-.-.-.-.-.-."<<endl;
    cout<<"5. Regresar-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-"<<endl;
    cout<<".-.-.-..-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-."<<endl;
    cin>>submal;
    return submal;

}

//(Accesorios)

int submenu_acceso(){
    int submac;
    cout<<"-.-.-GESTIÓN DE ACCESORIOS-.-.-.-"<<endl;
    cout<<".-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-."<<endl;
    cout<<"1. Crear Nuevo Accesorio-.-.-.-.-"<<endl;
    cout<<"2. Modificar Accesorio.-.-.-.-.-."<<endl;
    cout<<"3. Eliminar Accesorio.-.-.-.-.-.-"<<endl;
    cout<<"4. Mostrar Accesorios-.-.-.-.-.-."<<endl;
    cout<<"5. Regresar-.-.-.-.-.-.-..-.-.-.-"<<endl;
    cout<<".-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-."<<endl;
    cin>>submac;
    return submac;
}

int submenu_accrear(){
    int submacr;
    cout<<".-.-.-..-.-.-.-.-.-CREACIÓN/MODIFICACIÓN DE ACCESORIOS-.-.-.-.-.-.-.-.-.-.-"<<endl;
    cout<<".-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-."<<endl;
    cout<<"1. Accesorio de Ataque (Consume energía)-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-"<<endl;
    cout<<"2. Accesorio de Defensa (Se usan sólo una vez).-.-.-.-.-.-.-.-.-.-.-.-.-.-."<<endl;
    cout<<"3. Accesorio de Supervivencia (Regeneran salud y/o energía).-.-.-.-.-.-.-.-"<<endl;
    cout<<"4. Accesorio de Adaptación (Te permite combatir en distintos ambientes)-.-."<<endl;
    cout<<".-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-."<<endl;
    cin>>submacr;
    return submacr;
}

void ins_acceso(string nac, int hpp, int spg, int dr, int hpr, int spr, int ox){ //Procedimiento para Insertar Accesorios
    if(ac==NULL){
        ac=new acceso;
        ac->nacceso=nac;
        ac->salper=hpp;
        ac->energas=spg;
        ac->impred=dr;
        ac->salrest=hpr;
        ac->enerest=spr;
        ac->oxigeno=ox;
        bc=ac;
        ec=ac;}
    else{
        ac=new acceso;
        ac->nacceso=nac;
        ac->salper=hpp;
        ac->energas=spg;
        ac->impred=dr;
        ac->salrest=hpr;
        ac->enerest=spr;
        ac->oxigeno=ox;
        ec->prxacc=ac;
        ec=ec->prxacc;}
    ec->prxacc=NULL;
}

void crea_acceso(){
    string nac;
    int hpp,spg,dr,hpr,spr,ox;
    int submacr, wac1=0, wac2=0, wac3=0, wac4=0;
    cout<<"¿Qué tipo de accesorio desea crear?"<<endl;
    submacr=submenu_accrear();
    switch(submacr){
        case 1:
        cout<<"Dale nombre a tu nueva arma de destrucción:"<<endl;
        cin>>nac;
        while(wac1<1){
            cout<<"(Valores válidos del 0-100)"<<endl;
            cout<<"Indique la energía que consumirá su accesorio de ataque:"<<endl;
            cin>>spg;
            cout<<"Especifique la fuerza que tendrá su nuevo accesorio de ataque:"<<endl;
            cin>>hpp;
            if(spg>100||hpp>100){
                cout<<"¡Uno o ambos valores exceden el límite establecido!"<<endl;
                cout<<"Por favor intenta de nuevo..."<<endl;
            }
            else{
            //Se convierten el resto de valores a "0" para volverlo únicamente de ataque.
            dr=0, hpr=0, spr=0,ox=0;
            ins_acceso(nac, hpp, spg, dr, hpr, spr, ox);
            cout<<"¡Su accesorio fue creado con éxito!"<<endl;
            wac1=1;
            }
        }
        break;
        
        case 2:
        cout<<"Dale nombre a tu nuevo componente defensivo:"<<endl;
        cin>>nac;
        while(wac2<0){
            cout<<"Indique el porcentaje de dolor que reducirá tu artefacto:"<<endl;
            cout<<"(Valores válidos del 0-70)"<<endl;
            cin>>dr;
            if(dr>70){
                cout<<"El valor excede el límite establecido:"<<endl;
                cout<<"Por favor intenta de nuevo..."<<endl;}
            else{
                //Se convierten el resto de valores a "0" para volverlo únicamente de defensa.
                hpp=0,spg=0,hpr=0,spr=0,ox=0;
                ins_acceso(nac, hpp, spg, dr, hpr, spr, ox);
                cout<<"¡Su accesorio fue creado con éxito!"<<endl;
                wac2=1;}
        }
        break;
        
        case 3:
        cout<<"Dale nombre a tu futuro botiquín de primeros auxilios:"<<endl;
        cout<<"(Valores válidos del 0-60)"<<endl;
        cin>>nac;
        while(wac3){
            cout<<"Indique que tantos puntos de salud restaurará: (puedes poner 0)"<<endl;
            cin>>hpr;
            cout<<"Indique que tantos puntos de energía restaurará: (puedes poner 0)"<<endl;
            cin>>spr;
            if(hpr>60||spr>60){
                cout<<"¡Uno o ambos valores exceden el límite establecido!"<<endl;
                cout<<"Por favor intenta de nuevo..."<<endl;}
            else{    
                //Se convierten el resto de valores a "0" para volverlo únicamente de supervivencia.
                hpp=0,spg=0,dr=0,ox=0;
                ins_acceso(nac, hpp, spg, dr, hpr, spr, ox);
                cout<<"¡Su accesorio fue creado con éxito!"<<endl;
                wac3=1;}
        }
        break;

        case 4:
        cout<<"Dale nombre a tu primordial requisito para no morir fuera de tu planeta:"<<endl;
        cin>>nac;
        mos_amb();
        while(wac4<1){
            cout<<"Para adaptarte al ambiente que deseas, ingresa su nivel de oxígeno (nO2):"<<endl;
            cout<<"(Valores válidos del 70-100)"<<endl;
            cin>>ox;
            if(ox<70 || ox>100){
                cout<<"¡El valor excede (o es inferior) al límite establecido!"<<endl;
                cout<<"Por favor intenta de nuevo..."<<endl;}
            else{
                //Se convierten el resto de valores a "0" para volverlo únicamente de adaptación.
                hpp=0,spg=0,dr=0,hpr=0,spr=0;
                ins_acceso(nac, hpp, spg, dr, hpr, spr, ox);
                cout<<"¡Su accesorio fue creado con éxito!"<<endl;
                wac4=1;}
        }
        break;
        }
        

}

void mos_acceso(){
    struct acceso *cc=NULL;
    cout<<".-.-.-.-.-.-.-.-.-.-.-.-.-.LISTA DE ACCESORIOS.-.-.-.-.-.-.-.-.-.-.-.-.-.-."<<endl;
    cc=bc;
    while(cc!=NULL){
        cout<<"Accesorio: "<<setw(12)<<left<<cc->nacceso<<"   "<<setw(3)<<left<<"DI: "<<setw(3)<<left<<cc->salper<<" "<<"EG: "<<setw(3)<<left<<cc->energas<<" "<<"DR: "<<setw(4)<<left<<cc->impred<<" "<<
        "SR: "<<setw(3)<<left<<cc->salrest<<" "<<"ER: "<<setw(3)<<left<<cc->enerest<<" "<<"NOX: "<<setw(3)<<left<<cc->oxigeno<<" "<<endl;
        cc=cc->prxacc;
    }
}


int busc_acceso(string nac){
    ac=bc;
    while(ac!=NULL){
        if(ac->nacceso!=nac){
            ac=ac->prxacc;}
        else{
            return 1;}
    }
    return 0;
}


void mod_acceso(string nac){
    string nacx;
    int hppx,spgx,drx,hprx,sprx,oxx,submacr;
    int wacm1=0, wacm2=0, wacm3=0, wacm4=0;
    if(busc_acceso(nac)==1){
        cout<<"¿Deseas convertir tu accesorio a un tipo específico? (supervivencia, adaptación,etc...)"<<endl;
        submacr=submenu_accrear();
        switch(submacr){
            case 1:
            cout<<"Dale nombre a tu renovada arma de destrucción:"<<endl;
            cin>>nacx;
            ac->nacceso=nacx;
            while(wacm1<1){
                cout<<"(Valores válidos del 0-100)"<<endl;
                cout<<"Indique la energía que consumirá su accesorio de ataque:"<<endl;
                cin>>spgx;
                cout<<"Indique el impacto que hará su accesorio de ataque:"<<endl;
                cin>>hppx;
                if(spgx>100||hppx>100){
                    cout<<"¡Uno o ambos valores exceden el límite establecido!"<<endl;
                    cout<<"Por favor intenta de nuevo..."<<endl;}
                else{
                    ac->energas=spgx;
                    ac->salper=hppx;
                    //Se convierten el resto de valores a "0" para volverlo únicamente de ataque.
                    drx=0, hprx=0, sprx=0,oxx=0;
                    ac->impred=drx;
                    ac->salrest=hprx;
                    ac->enerest=sprx;
                    ac->oxigeno=oxx;
                    cout<<"¡Su accesorio fue modificado con éxito!"<<endl;
                    wacm1=1;}    
            break;
            case 2:
            cout<<"Dale nombre a tu nuevo componente defensivo"<<endl;
            cin>>nacx;
            ac->nacceso=nacx;
            while(wacm2<1){
                cout<<"Indica el porcentaje de dolor que reducirá tu artefacto:"<<endl;
                cout<<"(Valores válidos del 0-70)"<<endl;
                cin>>drx;
                if(drx>70){
                    cout<<"¡El valor excede el límite establecido!"<<endl;
                    cout<<"Por favor intenta de nuevo..."<<endl;}
                else{
                    ac->impred=drx;
                    //Se convierten el resto de valores a "0" para volverlo únicamente de defensa.
                    hppx=0,spgx=0,hprx=0,sprx=0,oxx=0;
                    ac->salper=hppx;
                    ac->energas=spgx;
                    ac->salrest=hprx;
                    ac->enerest=sprx;
                    ac->oxigeno=oxx;
                    cout<<"¡Su accesorio fue modificado con éxito!"<<endl;
                    wacm2=1;}    
            }
            break;

            case 3:
            cout<<"Dale nombre a tu futuro botiquín de primeros auxilios:"<<endl;
            cin>>nacx;
            ac->nacceso=nacx;
            while(wacm3<1){
                cout<<"(Valores válidos del 0-60)"<<endl;
                cout<<"Indique que tantos puntos de salud restaurará: (puedes poner 0)"<<endl;
                cin>>hprx;
                cout<<"Indique que tantos puntos de energía restaurará: (puedes poner 0)"<<endl;
                cin>>sprx;
                if(hprx>60||sprx>60){
                    cout<<"¡Uno o ambos valores exceden el límite establecido!"<<endl;
                    cout<<"Por favor intenta de nuevo..."<<endl;}
                else{
                    ac->salrest=hprx;
                    ac->enerest=sprx;
                    //Se convierten el resto de valores a "0" para volverlo únicamente de supervivencia.
                    hppx=0,spgx=0,drx=0,oxx=0;
                    ac->salper=hppx;
                    ac->energas=spgx;
                    ac->impred=drx;
                    ac->oxigeno=oxx;
                    cout<<"¡Su accesorio fue modificado con éxito!"<<endl;
                    wacm3=1;}
                
            }
            break;

            case 4:
            cout<<"Dale nombre a tu primordial requisito para no morir fuera de tu planeta:"<<endl;
            cin>>nacx;
            ac->nacceso=nacx;
            mos_amb();
            while(wacm4<1){
                cout<<"Para adaptarte al ambiente que deseas, ingresa su nivel de oxígeno (nO2):"<<endl;
                cin>>oxx;
                if(oxx<70 || oxx>100){
                    cout<<"¡El valor excede (o es inferior) al límite establecido!"<<endl;
                    cout<<"Por favor intenta de nuevo..."<<endl;}
                else{
                    ac->oxigeno=oxx;
                    //Se convierten el resto de valores a "0" para volverlo únicamente de adaptación.
                    hppx=0,spgx=0,drx=0,hprx=0,sprx=0;
                    ac->salper=hppx;
                    ac->energas=spgx;
                    ac->impred=drx;
                    ac->salrest=hprx;
                    ac->enerest=sprx;
                    cout<<"¡Su accesorio fue modificado con éxito!"<<endl;
                    wacm4=1;}
            }
            break;
            }
        }
    }    

    else{
        cout<<"¡No puedes modificar un accesorio que no existe!"<<endl;
        cout<<"Tip: Recuerda ingresar su nombre correctamente"<<endl;}
       
}

void elim_acceso(string nac){
    if(busc_acceso(nac)==1){
        struct acceso *zc=NULL,*xc=NULL; 
        zc=bc;
        while (zc!=NULL && zc->nacceso!=nac){
            xc=zc;
            zc=zc->prxacc;}
            if (zc==bc){
                bc=bc->prxacc;}
            else{
                xc->prxacc=zc->prxacc;
             delete(zc);
             cout<<"¡Su accesorio fue eliminado con éxito!"<<endl;}
        }      

    else{
        cout<<"¡No puedes eliminar un accesorio que no existe!"<<endl;}
}

void default_acceso(){
    string nact;
    int hppt, spgt, drt, hprt, sprt, oxt;
    int invaccl=0, invaccc=0; //Variables que sirven para manejar la lectura del archivo (límite y contador)
    string liacc,bgacc;

    ifstream invacc("acc.txt"); 
    getline(invacc,liacc);
    invaccl=stoi(liacc);
    while(invaccc!=invaccl){
        getline(invacc,liacc);
        bgacc=liacc;                //Variable que sirve para "desechar" -- del archivo.inv
        getline(invacc,liacc);
        nact=liacc;
        getline(invacc,liacc);         
        hppt=stoi(liacc);           //Extracción de Estadísticas de Ataque
        getline(invacc,liacc);
        spgt=stoi(liacc);
        getline(invacc,liacc);         
        drt=stoi(liacc);            //Extracción de Estadísticas de Defensa
        getline(invacc,liacc);         
        hprt=stoi(liacc);           //Extracción de Estadísticas de Supervivencia
        getline(invacc,liacc);
        sprt=stoi(liacc);
        getline(invacc,liacc);         
        oxt=stoi(liacc);            //Extracción de Estadísticas de Adaptación
        ins_acceso(nact,hppt,spgt,drt,hprt,sprt,oxt);
        invaccc=invaccc+1;}
        invacc.close();
}

//(Soldados/Estudiantes)
int submenu_solds(){
    int submsol;
    cout<<".-.-.-..-.-.-OPCIONES DE SOLDADOS.-.-.-.-.-.-.-.-.-"<<endl;
    cout<<".-.-.-..-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-"<<endl;
    cout<<"1. Agregar un Soldado-..-.-.-.-.-.-.-.-.-.-.-.-.-.-"<<endl;
    cout<<"2. Modificar un Soldado.-.-.-.-.-.-.-.-.-.-.-.-.-.-"<<endl;
    cout<<"3. Eliminar un Soldado-.-.-.-.-.-.-.-.-.-.-.-.-.-.-"<<endl;
    cout<<"4. Agregar Objetos a la mochila de un soldado.-.-.-"<<endl;
    cout<<"5. Modificar un Slot de la mochila de un soldado.-."<<endl;
    cout<<"6. Eliminar un Slot de la mochila de un soldado.-.-"<<endl;
    cout<<"7. Regresar-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-."<<endl;
    cout<<".-.-.-..-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-"<<endl;
    cin>>submsol;
    return submsol;

}

void agg_solds(){
    string aluma,esp;
    cout<<"Escoja la raza del soldado que desea agregar:"<<endl;
    cout<<"Tip: Escribe tal cual el nombre de la raza"<<endl;
    mos_alien();
    cin>>esp;
    if(busc_alien(esp)==1){
        if(as==NULL){
            as=new solds;
            as->especie=al->especie;
            as->salud=al->salud;
            as->energia=al->energia;
            as->ambiente=al->ambiente;
            bs=as;
            es=as;}
        else{
            as=new solds;
            as->especie=al->especie;
            as->salud=al->salud;
            as->energia=al->energia;
            as->ambiente=al->ambiente;
            es->prxsol=as;
            es=es->prxsol;}
        cout<<"Ingresa el nombre del alumno:"<<endl;
        cin>>aluma;
        cout<<"¡Su alumno se ha registrado con éxito!"<<endl;
        as->alumno=aluma;
        es->prxsol=NULL;}
    else{
        cout<<"Por favor... Escribe correctamente el nombre sin ignorar MAYÚSCULAS"<<endl;
        cout<<"(También puede ser que no exista la raza de la que hablas...)"<<endl;
        submenu_solds();
    }
}

int busc_solds(string aluma){
    as=bs;
    while(as!=NULL){
        if(as->alumno!=aluma){
            as=as->prxsol;}
        else{
            return 1;}
    }
    return 0;
}

void mos_solds(){
    struct solds *cs=NULL;
    cout<<".-.-.-.-.-.-.-.-.-.-.LISTA DE ESTUDIANTES.-.-.-.-.-.-.-.-.-.-.-."<<endl;
    cs=bs;
    while(cs!=NULL){
        cout<<cs->alumno<<"  "<<"Raza: "<<setw(7)<<left<<cs->especie<<" "<<"HP: "<<setw(5)<<left<<cs->salud<<" "<<
        "SP: "<<setw(5)<<left<<cs->energia<<" "<<"Planeta: "<<setw(5)<<left<<cs->ambiente<<endl;
        cs=cs->prxsol;
    }
}


void mod_solds(string alumn){
    string alumnx,esp;
    int submsol;
    if(busc_solds(alumn)==1){
        cout<<"¿Qué deseas hacer con tu estudiante/soldado intergaláctico?"<<endl;
        cout<<"1. Modificar su nombre"<<endl;
        cout<<"2. Cambiarlo de raza"<<endl;
        cin>>submsol;
        switch(submsol){
            case 1:
            cout<<"Renombra a tu miembro del 'Comando Estelar': (Referencia Pixar)"<<endl;
            cin>>alumnx;
            as->alumno=alumnx;
            cout<<"¡Se renombró su alumno con éxito!"<<endl;
            break;


            case 2:
            cout<<"Escoja la nueva raza de su soldado:"<<endl;
            cout<<"Tip: Escribe tal cual el nombre de la raza"<<endl;
            mos_alien();
            cin>>esp;
            if(busc_alien(esp)==1){
                as->especie=al->especie;
                as->salud=al->salud;
                as->energia=al->energia;
                as->ambiente=al->ambiente;}
            else{
                cout<<"Por favor... Escribe correctamente el nombre sin ignorar MAYÚSCULAS"<<endl;
                cout<<"(También puede ser que no exista la raza de la que hablas...)"<<endl;
                submenu_solds();
            }
            break;    
        }            
    }
}

void elim_solds(string alumn){
    if(busc_solds(alumn)==1){
        struct solds *zs=NULL,*xs=NULL; 
        zs=bs;
        while(zs!=NULL && zs->alumno!=alumn){
            xs=zs;
            zs=zs->prxsol;}
            if (zs==bs){
                bs=bs->prxsol;}
            else{
                xs->prxsol=zs->prxsol;
             delete(zs);
             cout<<"¡Su soldado fue eliminado con éxito!"<<endl;}
        }      

    else{
        cout<<"¡No puedes eliminar un soldado inexistente!"<<endl;}
}

void agg_mochila(string alumn){
    if(busc_solds(alumn)==1){
        int gsm=0,is=0;
        string nactx;
        while(gsm<5){
            mos_acceso();
            cout<<"Escribe el accesorio que deseas asignar al compartimiento ["<<is<<"] de tu soldado:"<<endl;
            cout<<"Tip: Recuerda escribirlo correctamente y en MAYÚSCULAS"<<endl;
            cin>>nactx;
            if(busc_acceso(nactx)==1){
                as->mochila[is].nacceso=ac->nacceso;
                as->mochila[is].salper=ac->salper;
                as->mochila[is].energas=ac->energas;
                as->mochila[is].impred=ac->impred;
                as->mochila[is].salrest=ac->salrest;
                as->mochila[is].enerest=ac->enerest;
                as->mochila[is].oxigeno=ac->oxigeno;
                is=is+1;
                gsm=gsm+1;}
            else{
                cout<<"¡No puedes agregarle accesorios que no existen!"<<endl;
                cout<<"Recuerda escribirlo correctamente en MAYÚSCULAS"<<endl;}
        }
        cout<<"¡La mochila de su soldado se ha llenado con éxito!"<<endl;
    
}

}

void mod_mochila(string alumn){
    if(busc_solds(alumn)==1){
        int is, msm1=0, msm2=0;
        string nactx;
        while(msm2<1){
        cout<<"Escoja el slot que desea modificar de la mochila:"<<endl;
        cout<<"(Valores válidos del 1-5)"<<endl;
        cin>>is;
            if(is<0 && is>4){
                cout<<"CIFRA INVÁLIDA..."<<endl;}
            else{
                while(msm1<1){
                    cout<<"¿Con qué accesorio desea reemplazarlo?"<<endl;
                    mos_acceso();
                    cout<<"Recuerde ingresar en MAYÚSCULAS y escribirlo correctamente"<<endl;
                    cin>>nactx;
                    if(busc_acceso(nactx)==1){
                        as->mochila[is].nacceso=ac->nacceso;
                        as->mochila[is].salper=ac->salper;
                        as->mochila[is].energas=ac->energas;
                        as->mochila[is].impred=ac->impred;
                        as->mochila[is].salrest=ac->salrest;
                        as->mochila[is].enerest=ac->enerest;
                        as->mochila[is].oxigeno=ac->oxigeno;
                        cout<<"¡El slot de su mochila se ha modificado con éxito!"<<endl;
                        msm1=1;
                        msm2=1;}
                    else{
                        cout<<"¡No puedes cambiar el contenido de un slot, por uno que no exista!"<<endl;
                        cout<<"Verifica la lista de accesorios y escribe en MAYÚSCULAS"<<endl;} 
                }
            }
        }                   

    }
}


void elim_mochila(string alumn){
    if(busc_solds(alumn)==1){
        int is,esm=0;
        string nactx;
        while(esm<1){
            cout<<"Escoja el slot que desea eliminar de su mochila:"<<endl;
            cout<<"(Valores válidos del 0-4)"<<endl;
            cin>>is;
            if(is>4){
                cout<<"CIFRA INVÁLIDA..."<<endl;}
            else{
                as->mochila[is].nacceso="";
                as->mochila[is].salper=0;
                as->mochila[is].energas=0;
                as->mochila[is].impred=0;
                as->mochila[is].salrest=0;
                as->mochila[is].enerest=0;
                as->mochila[is].oxigeno=0;
                cout<<"¡Se ha eliminado su slot de mochila con éxito!"<<endl;
                esm=1;}
        }
    }
}
//(Consulta de Equipo)
void cons_eq(){
    struct solds *csl=NULL;
    if(as==NULL){
        cout<<"¡¡UUUPPPSSS!!"<<endl;
        cout<<"Parece que no hay soldados registrados..."<<endl;
        cout<<"(Regresa luego de crear al menos [1] soldado)"<<endl;}
    else{
        cout<<".-.-.-.-.-.-.-.-.-.-.-.-.ESTADÍSTICAS DE SOLDADOS (CONSULTA DE EQUIPO).-.-.-.-.-.-.-.-.-.-.-."<<endl;
        csl=bs;
        while(csl!=NULL){
            cout<<csl->alumno<<"   "<<"HP: "<<setw(5)<<left<<csl->salud<<" "<<"SP: "<<setw(7)<<left<<csl->energia<<" "<<"Raza: "<<setw(7)<<left<<csl->especie<<" "<<"Planeta: "<<setw(5)<<left<<csl->ambiente<<" "<<endl;
            cout<<"SM(1): ["<<setw(5)<<left<<csl->mochila[0].nacceso<<"] "<<"SM(2): ["<<setw(5)<<left<<csl->mochila[1].nacceso<<"] "<<"SM(3): ["<<setw(5)<<left<<csl->mochila[2].nacceso<<"] "<<"SM(4): ["<<setw(5)<<left<<csl->mochila[3].nacceso<<"] "<<"SM(5): ["<<setw(5)<<right<<csl->mochila[4].nacceso<<"]"<<endl;
            csl=csl->prxsol;}}
}

void nom_estad(){
    cout<<".-.NOMENCLATURA DE ESTADÍSTICAS.-."<<endl;
    cout<<".-.-.-.-.-.(NUMÉRICAS)-.-..-.-.-.-"<<endl;
    cout<<"-.-.Salud:              'HP'.-.-.-"<<endl;
    cout<<"-.-.Energía:            'SP'.-.-.-"<<endl;
    cout<<"-.-.Nivel de Oxígeno:   'NOX'-.-.-"<<endl;
    cout<<"-.-.Slot de Mochila:    'SM()'-.-."<<endl;
    cout<<"-.-.Daño Infligido:     'DI'.-.-.-"<<endl;
    cout<<"-.-.Energía Gastada:    'EG'-.-.-."<<endl;
    cout<<"-.-.Salud Restaurada:   'SR'.-.-.-"<<endl;
    cout<<"-.-.Energía Restaurada: 'ER'.-.-.-"<<endl;
}

//Funcion para asignar aleatoriamente un bando a un soldado
string asignar_bando(){
    int random=rand() % 2;

    return (random == 0) ? "Humanos" : "Andromedanos" ;
}    

void asignar_soldados(solds* listaOriginal, solds*& listaH, solds*& listaA){
    
    solds* actual= listaOriginal;
    while(actual != nullptr){
        solds* nuevoSoldado = new solds;
        nuevoSoldado->alumno=actual->alumno;
        nuevoSoldado->ambiente=actual->ambiente;
        nuevoSoldado->energia=actual->energia;
        nuevoSoldado->especie=actual->especie;
        nuevoSoldado->salud=actual->salud;
        nuevoSoldado->mochila[0]=actual->mochila[0];
        nuevoSoldado->mochila[1]=actual->mochila[1];
        nuevoSoldado->mochila[2]=actual->mochila[2];
        nuevoSoldado->mochila[3]=actual->mochila[3];
        nuevoSoldado->mochila[4]=actual->mochila[4];
        nuevoSoldado->prxsol=nullptr;
        if(asignar_bando() == "Humanos"){
            if(listaH==nullptr){
                listaH = nuevoSoldado;
            }else{
                solds* temp =listaH;
                while(temp->prxsol != nullptr){
                    temp = temp->prxsol;
                }
                temp->prxsol = nuevoSoldado;
            }
        } else{
            if(listaA==nullptr){
                listaA = nuevoSoldado;
            }else{
                solds* temp =listaA;
                while(temp->prxsol != nullptr){
                    temp = temp->prxsol;
                }
                temp->prxsol = nuevoSoldado;
            }   
        }
        actual= actual->prxsol;
    }   
}

string ambiente_Aleatorio(planeta* inicio){
    srand(static_cast<unsigned>(time(nullptr)));
    int sizelista=0;
    planeta* temp = inicio;
    while (temp != nullptr){
        sizelista++;
        temp = temp->prxpl;
    }
    int indice_random= rand() % sizelista;

    temp = inicio;
    for (int i = 0; i<indice_random; i++){
        temp = temp->prxpl;
    }
    return temp->ambiente;
}

void elegir_sold_y_obj(solds& soldado, solds* lista){
    int indice=1;
    solds* actual = lista;
    while(actual!=nullptr){
        cout<<indice<<". "<<actual->alumno<<endl;
        actual=actual->prxsol;
        indice++;
    }
    cin>>indice;
    actual = lista;
    for (int i=1; i<indice; i++){
        actual=actual->prxsol;
    }
    if(actual!=nullptr){
        soldado=*actual;
        cout<<"Haz seleccionado al soldado "<<soldado.alumno<<"."<<endl;
    } else{
        cout<<"Indice invalido. Intentalo de nuevo."<<endl;
        elegir_sold_y_obj(soldado, lista);
    }
    cout<<"Soldado "<<soldado.alumno<<", elige los 3 objetos para usar en la batalla"<<endl;
    
    for (int j=0; j<5; j++){
        while(actual!=nullptr){
            cout<<j+1<<". "<<actual->mochila[j].nacceso<<endl;
        }
    }  
    int ind=0;
    cin>>ind;
    if(ind >=1 && ind<=5){
        acceso& objelegido = soldado.mochila[ind-1];
    }
}
    
void batalla(solds* jugadora, solds* jugadorb){
    while(jugadora->salud!=0 && jugadora->energia!=0 && jugadorb->salud!=0 && jugadorb->energia!=0){
        if(jugadora->salud<=0 || jugadora->energia<=0){
            cout<<"El jugador "<<jugadorb->alumno<<" ha ganado"<<endl;
        }else if(jugadorb->salud<=0 || jugadorb->energia<=0){
            cout<<"El jugador "<<jugadora->alumno<<" ha ganado"<<endl;
        }
    }   
}

int menu_principal(){
    int mp;
    cout<<"-.-.-.-.-.-.-.-.-MENÚ PRINCIPAL INTERGALÁCTICO-.-.-.-.-.-.-.-.-.-"<<endl;
    cout<<"-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-..-.-.-.-.-.-.-.-.-.-.-.-.-.-."<<endl;
    cout<<"1. Gestionar Razas Alienígenas.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-..-"<<endl;
    cout<<"2. Gestionar Accesorios Ultra-Materiales-.-.-.-.-.-.-..-.-.-.-.-."<<endl;
    cout<<"3. Gestionar Estudiantes e Inventario (Mochilas)-.-.-.-.-.-.-..-."<<endl;
    cout<<"4. Gestionar Atmósferas de Combate (Ambientes)-.-.-.-.-.-.-..-.-."<<endl;
    cout<<"5. Estadísticas de Soldados (Consulta de Equipo)-.-.-.-.-.-.-.-.-"<<endl;
    cout<<"6. Batalla/Combate-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-..-.-.-.-.-.-."<<endl;
    cout<<"7. Nomenclatura de Estadísticas-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-."<<endl;
    cout<<"8. Salir del Juego-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-"<<endl;
    cout<<"-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-"<<endl;
    cin>>mp;
    return mp;
}

int main() {
    //Variables Alien
    string amb, esp;
    int hp,sp;

    //Variables Accesorios
    string nac;
    int hpp,spg,dr,hpr,spr,ox;

    //Variables Soldados
    string aluma,alumn;
    int cs,is,i;
    //Reutiliza esp, amb, hp y sp de las variables de los Alien
    
    //Variables Ambiente
    //Reutiliza ox de los Accesorios y amb de los Alien

    //Variables del Menú (y submenúes)
    int mp, submal, submacr, submac, submsol, submap;
    //Aliens
    int wal1=0,wal2=0;
    //Ambiente
    int wame=0, wamb1=0, wamb2=0;
    //variables del combate
    string ambrandom, x, soldadoA;
    

    default_amb();
    default_alien();
    default_acceso();

    bool cerrar=false;
    while(!cerrar){
        mp=menu_principal();
        switch(mp){
            // Gestión de Especies
            case 1:
                while(true){
                    submal=submenu_aliens();
                    if(submal==5)break;
                    switch(submal){
                        case 1:
                            wal1=0;
                            wal2=0;
                            crea_alien();
                            break;
                        case 2:
                            cout<<"Selecciona la especie que deseas modificar:"<<endl;
                            cout<<"Tip: Escribe el nombre EXACTAMENTE como aparece en la lista"<<endl;
                            mos_alien();
                            cin>>esp;
                            mod_alien(esp);
                            break;
                        case 3:
                            cout<<"Selecciona la especie que deseas eliminar:"<<endl;
                            cout<<"Tip: Escribe el nombre EXACTAMENTE como aparece en la lista"<<endl;
                            mos_alien();
                            cin>>esp;
                            elim_alien(esp);
                            break;
                        case 4:
                            mos_alien();
                            break;
                        default:
                            cout<<".-.-.|OPCIÓN INVÁLIDA...|.-.-."<<endl;    
                    }
                }
                break;
             // Gestión de Accesorios    
            case 2:
                while(true){
                    submac=submenu_acceso();
                    if(submac==5)break;
                    switch(submac){
                        case 1:
                            crea_acceso();
                            break;
                        case 2:
                            cout<<"Escribe el nombre del accesorio que deseas modificar:"<<endl;
                            cout<<"Tip: Recuerda escribir todo en MAYÚSCULAS"<<endl;
                            mos_acceso();
                            cin>>nac;
                            mod_acceso(nac);
                            break;
                        case 3:
                            cout<<"Escribe el nombre del accesorio que deseas eliminar"<<endl;
                            cout<<"Tip: Recuerda escribir todo en MAYÚSCULAS"<<endl;
                            cin>>nac;
                            elim_acceso(nac);
                            break;
                        case 4:
                            mos_acceso();
                            break;
                        default:
                            cout<<".-.-.|OPCIÓN INVÁLIDA...|.-.-."<<endl;    
                    }
                }
                break;
             // Gestión de Soldados y Mochilas    
            case 3:
                while(true){
                    submsol=submenu_solds();
                    if(submsol == 7)break;
                    switch(submsol){
                        case 1:
                            agg_solds();
                            break;
                        case 2:
                            mos_solds();
                            cout<<"Ingresa el nombre del soldado que deseas modificar:"<<endl;
                            cout<<"Tip: Recuerda escribirlo correctamente"<<endl;
                            cin>>alumn;
                            mod_solds(alumn);
                            break;
                        case 3:
                            mos_solds();
                            cout<<"Ingresa el nombre del soldado que deseas eliminar:"<<endl;
                            cout<<"Tip: Recuerda escribirlo correctamente"<<endl;
                            cin>>alumn;
                            elim_solds(alumn);
                            break;
                        case 4:
                            mos_solds();
                            cout<<"Ingresa el nombre del soldado para llenar su mochila:"<<endl;
                            cout<<"Tip: Recuerda escribirlo correctamente"<<endl;
                            cin>>alumn;
                            agg_mochila(alumn);
                            break;
                        case 5:
                            mos_solds();
                            cout<<"Ingresa el nombre del soldado para modificar el contenido de su mochila:"<<endl;
                            cout<<"Tip: Recuerda escribirlo correctamente"<<endl;
                            cin>>alumn;
                            mod_mochila(alumn);
                            break;
                        case 6:
                            mos_solds();
                            cout<<"Ingresa el nombre del soldado para eliminar el contenido de su mochila:"<<endl;
                            cout<<"Tip: Recuerda escribirlo correctamente"<<endl;
                            cin>>alumn;
                            elim_mochila(alumn);
                            break;
                        default:
                            cout<<".-.-.|OPCIÓN INVÁLIDA...|.-.-."<<endl;    
                    }
                }
                break;
            // Gestión de Ambientes    
            case 4:
                while(true){
                    submap=submenu_amb();
                    if(submap==5)break;
                    switch(submap){
                        case 1:
                            crea_amb();
                            break;
                        case 2:
                            mod_amb();
                            break;
                        case 3:
                            cout<<"Ingresa el nombre del ambiente que deseas eliminar:"<<endl;
                            cout<<"Tip: Recuerda escribirlo en MAYÚSCULAS"<<endl;
                            mos_amb();
                            cin>>amb;
                            elim_amb(amb);
                            break;
                        case 4:
                            mos_amb();
                            break;
                        default:
                            cout<<".-.-.|OPCIÓN INVÁLIDA...|.-.-."<<endl;    

                    }
                }
                break;
            case 5:
                cons_eq();
                break;
            case 6:
                if(as==NULL){
                cout<<"¡¡UUUPPPSSS!!"<<endl;
                cout<<"Parece que no hay soldados registrados..."<<endl;
                cout<<"(Regresa luego de crear al menos [6] soldados para comenzar la guerra)"<<endl;}
                else{
                    srand(time(nullptr));
                    solds* listaH = nullptr;
                    solds* listaA = nullptr;

                    asignar_soldados(bs, listaH, listaA);

                    cout<<"Escojan que jugador representara a los humanos y quien representara a los andromedanos"<<endl;
                    cout<<"-.-.-.-.-.-.-.-.-.-.-INGRESE CUALQUIER TECLA PARA CONTINUAR-.-.-.-.-.-.-.-.-.-.-.-.-.-"<<endl;
                    cin>>x;
                    //mostrar los soldados de ambos equipos
                    cout<< "Soldados del bando de los humanos: "<<endl;
                    solds* actualH= listaH;
                    while(actualH != nullptr){
                        cout<< actualH->alumno <<"   "<<"HP: "<<setw(5)<<left<<actualH->salud<<" "<<"SP: "<<setw(7)<<left<<actualH->energia<<" "<<"Raza: "<<setw(7)<<left<<actualH->especie<<" "<<"Planeta: "<<setw(5)<<left<<actualH->ambiente<<" "<<endl;
                        cout<<"SM(1): ["<<setw(5)<<left<<actualH->mochila[0].nacceso<<"] "<<"SM(2): ["<<setw(5)<<left<<actualH->mochila[1].nacceso<<"] "<<"SM(3): ["<<setw(5)<<left<<actualH->mochila[2].nacceso<<"] "<<"SM(4): ["<<setw(5)<<left<<actualH->mochila[3].nacceso<<"] "<<"SM(5): ["<<setw(5)<<right<<actualH->mochila[4].nacceso<<"]"<<endl;
                        actualH=actualH->prxsol;
                    }
                    cout<<"-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-"<<endl;
                    cout<< "Soldados del bando de los Andromedanos: "<<endl;
                    solds* actualA= listaA;
                    while(actualA != nullptr){
                        cout<< actualA->alumno <<"   "<<"HP: "<<setw(5)<<left<<actualA->salud<<" "<<"SP: "<<setw(7)<<left<<actualA->energia<<" "<<"Raza: "<<setw(7)<<left<<actualA->especie<<" "<<"Planeta: "<<setw(5)<<left<<actualA->ambiente<<" "<<endl;
                        cout<<"SM(1): ["<<setw(5)<<left<<actualA->mochila[0].nacceso<<"] "<<"SM(2): ["<<setw(5)<<left<<actualA->mochila[1].nacceso<<"] "<<"SM(3): ["<<setw(5)<<left<<actualA->mochila[2].nacceso<<"] "<<"SM(4): ["<<setw(5)<<left<<actualA->mochila[3].nacceso<<"] "<<"SM(5): ["<<setw(5)<<right<<actualA->mochila[4].nacceso<<"]"<<endl;
                        actualA=actualA->prxsol;
                    }
                    cout<<"-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-"<<endl;
                    cout<< "El ambiente en donde se desarrollará la guerra es: "<<endl;
                    ambrandom=ambiente_Aleatorio(bp);
                    cout<<ambrandom<<endl;
                    cout<<"-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-"<<endl;
                    cout<<"Elige que soldado peleara para los humano:"<<endl;
                    solds jugador1;
                    elegir_sold_y_obj(jugador1, listaH);
                    cout<<"-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-"<<endl;
                    cout<<"Elige que soldado peleara para los andromedanos:"<<endl;
                    solds jugador2;
                    elegir_sold_y_obj(jugador2, listaA);
                }
                break;
            case 7:
                nom_estad();
                break;    
            case 8:
                cerrar=true;
                break;
            default:
                cout<<".-.-.|OPCIÓN NO DISPONIBLE HASTA EL 30/06...|.-.-."<<endl;
                break;
        }
    }

    return 0;
}
